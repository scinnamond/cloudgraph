<!DOCTYPE html [
    <!ENTITY nbsp "&#160;"> 
]>
<html lang="en"
     xmlns="http://www.w3.org/1999/xhtml"
     xmlns:f="http://java.sun.com/jsf/core"
     xmlns:ui="http://java.sun.com/jsf/facelets"
     xmlns:h="http://java.sun.com/jsf/html"
     xmlns:p="http://primefaces.org/ui"
     xmlns:c="http://java.sun.com/jsp/jstl/core">
<body>
<ui:composition>
                                                         
<h:form id="campaign_queue_form">   
<p:panel toggleable="true" label="Campaigns"
      >
  <h:panelGrid columns="6" width="100%" 
      columnClasses="ChartButtonDiv,ChartButtonDiv,ChartButtonDiv,ChartButtonDiv,ChartButtonDiv,ChartButtonDiv"
      cellpadding="3" cellspacing="3" border="0" > 
  	  <p:commandLink 
          update="cmpgn_dtbl_pnl"
          action="#{CampaignQueueBean.clear}" 
          title="Refresh this Campaign list">
          <h:graphicImage value="/images/refresh2_16_16.gif"/>
          <p:spacer width="18" height="1"/>
      </p:commandLink>
  	  <p:commandLink 
          action="#{CampaignEditBean.create}" 
          title="#{bundle.aplsSearch_createCampaign_tooltip}"
          update="admin_content_panel">
          <h:graphicImage value="/images/new_item.gif"/>
          <p:spacer width="18" height="1"/>
	      <f:setPropertyActionListener value="true"   
		      target="#{NavigationBean.administrationSelected}" />
      </p:commandLink>
      
      
      
  </h:panelGrid>     
                                                                                                                                            
  <h:panelGrid id="cmpgn_dtbl_pnl" rowClasses="AlignCenter" columns="1" border="0">                                                            
  <p:dataTable id="cmpgn_dtbl" var="campaign" value="#{CampaignQueueBean.data}"
       rows="#{CampaignQueueBean.maxRows}">                                                                        
	   <p:column sortBy="#{campaign.name}">                                                                                                                               
           <f:facet name="header">
              <h:outputText value="#{bundle.aplsCampaigns_name_label}" />
           </f:facet>  
	       <h:outputText value="#{campaign.name}"/>                                                                                         
	   </p:column>   
	   <p:column sortBy="#{campaign.type}">                                                                                                                               
           <f:facet name="header">
              <h:outputText value="#{bundle.aplsCampaigns_type_label}" />
           </f:facet>  
	       <h:outputText value="#{campaign.type}"/>                                                                                         
	   </p:column>   
	   <p:column id="actionsColumn">                                                                                                                              
           <f:facet name="header">
		      <h:outputText value="#{bundle.aplsCampaigns_actions_label}"                                                                    
		          title="#{bundle.aplsCampaigns_actions_tooltip_label}"/>                                                                          
           </f:facet>  
	        <p:commandLink 
	            title="View this campaign (read-only)"
	            action="#{CampaignEditBean.edit}"
	            update="admin_content_panel">                                                                               
	            <h:outputText value="view"                                                                   
	                title="View this campaign (read-only)"/>                                                                         
	            <f:setPropertyActionListener value="#{campaign.id}"   
	                    target="#{CampaignEditBean.campaignId}" />                                             
	            <f:setPropertyActionListener value="true"   
	                    target="#{NavigationBean.administrationSelected}" />                                             
	        </p:commandLink>                                                                                                                    
	        <f:verbatim>&nbsp;</f:verbatim>                   
	        <p:commandLink 
	            title="Edit this campaign"
	            rendered="#{UserBean.roleName == 'SUPERUSER'}"
	            action="#{CampaignEditBean.edit}"
	            update="admin_content_panel">                                                                               
	            <h:outputText value="edit"                                                                   
	                title="Edit this Campaign"/>                                                                         
	            <f:setPropertyActionListener value="#{campaign.id}"   
	                    target="#{CampaignEditBean.campaignId}" />                                             
	            <f:setPropertyActionListener value="true"   
	                    target="#{NavigationBean.administrationSelected}" />                                             
	        </p:commandLink>                                                                                                                    
	    </p:column>  
	    <p:column sortBy="#{campaign.description}">                                                                                                                               
           <f:facet name="header">
              <h:outputText value="#{bundle.aplsCampaigns_description_label}" />
           </f:facet>  
	       <h:outputText value="#{campaign.description}"/>                                                                                         
	    </p:column>   
	    <p:column sortBy="#{campaign.dispersal}">                                                                                                                               
           <f:facet name="header">
              <h:outputText value="#{bundle.aplsCampaigns_dispersal_label}" />
           </f:facet>  
	       <h:outputText value="#{campaign.dispersal}"/>                                                                                         
	    </p:column>   
	    <p:column sortBy="#{campaign.startDate}">                                                                                                                               
           <f:facet name="header">
              <h:outputText value="#{bundle.aplsCampaigns_startDate_label}" />
           </f:facet>  
	       <h:outputText value="#{campaign.startDate}"/>                                                                                         
	    </p:column>   
	    <p:column sortBy="#{campaign.endDate}">                                                                                                                               
           <f:facet name="header">
              <h:outputText value="#{bundle.aplsCampaigns_endDate_label}" />
           </f:facet>  
	       <h:outputText value="#{campaign.endDate}"/>                                                                                         
	    </p:column>   
                                                                                                                                                             
    </p:dataTable>                                                                                                                          
      <p:datascroller id="cmpgn_dtbl_data_scrlr"
          align="center"
          for="cmpgn_dtbl"
          maxPages="20"
          page="#{CampaignQueueBean.scrollerPage}"
          update="cmpgn_dtbl_pnl"/>
                                                                                                                                            
  </h:panelGrid> 
</p:panel>     
</h:form>   
</ui:composition>
</body>
</html>
 